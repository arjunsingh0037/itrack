define(["jquery"],function(a){function b(a,b){var c,d,e,f=a.length,g=b.length,h="function"==typeof[1].fill;for(c=[],d=0;d<=f;d+=1)if(c[d]=new Array(g+1),h)c[d].fill(0);else for(e=0;e<g+1;e++)c[d][e]=0;for(d=0;d<f;d+=1)for(e=0;e<g;e+=1)a[d]==b[e]?c[d+1][e+1]=1+c[d][e]:c[d+1][e+1]=Math.max(c[d][e+1],c[d+1][e]);return c}function c(a,c){var d,e,f,g,h,i;for(d=b(a,c),i=d[a.length][c.length],h=[],e=a.length,f=c.length,g=i-1;g>=0;)a[e-1]==c[f-1]?(h[g]=a[e-1],g-=1,e-=1,f-=1):d[e-1][f]==d[e][f]?e-=1:f-=1;return h}function d(a,b,c,d){var e,f="",g=!1,h=0;for(void 0===c&&(c="<del>"),void 0===d&&(d="</del>"),e=0;e<a.length;e+=1)h<b.length&&a[e]==b[h]?(g&&(f+=d,g=!1),h+=1):g||(f+=c,g=!0),f+=a[e];return g&&(f+=d),f}function e(a){return a.tagName.toLowerCase()}function f(a){function b(){var a,b;return"&"!=f[g]?(a=f[g],g+=1):(b=f.substring(g,f.length).match(/(^&[a-zA-Z]+;)|(^&#[0-9]+;)|(^&#[xX][0-9a-fA-F]+;)/),null===b?(a=f[g],g+=1):(a=b[0],g+=a.length)),a}var c,d="pre"===e(a),f=a.innerHTML,g=0;for(d&&(f=f.replace(/\n/g,k+"\n")),f=f.replace(/(<br ?.*?>)/g,k+"$1"),c=[],g=0;g<f.length;)c.push(b());return c}function g(a,b){var e,g,h,i="<del>",j="</del>";e=f(a),g=f(b),h=c(e,g),a.innerHTML=d(e,h,i,j),b.innerHTML=d(g,h,i,j)}function h(a,b){var c=new RegExp("(</?del[^>]*>)|("+k+")","g");a.innerHTML=a.innerHTML.replace(c,""),b.innerHTML=b.innerHTML.replace(c,"")}function i(a,b,c,d){for(var e,f,g,h,i=0;i<a.length;i++)e=a[i],f=e.getElementsByTagName("td"),g=f[c].children[0],h=f[b].children[0],d(g,h)}function j(b,c,d,e,f){var j,k,l,m,n,o=a('[id="'+b+'"]'),p=0;j=o.closest("div.coderunner-test-results"),l=j.find("th"),k=j.find("tbody tr"),l.each(function(){a(this).html()===f?m=p:a(this).html()===e&&(n=p),p+=1}),m&&n?o.on("click",function(){o.prop("value")===c?(i(k.toArray(),m,n,g),o.prop("value",d)):(i(k.toArray(),m,n,h),o.prop("value",c))}):(o.enabled=!1,o.hide())}var k="â†©";return{initDiffButton:j}});